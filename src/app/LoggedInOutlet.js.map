{"version":3,"sources":["src/app/LoggedInOutlet.ts"],"names":["LoggedInRouterOutlet","LoggedInRouterOutlet.constructor","LoggedInRouterOutlet.activate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAIA;gBAG0CA,wCAAYA;gBAIpDA,8BAAYA,WAAuBA,EAAEA,OAA+BA,EACxDA,aAAqBA,EAAqBA,QAAgBA;oBACpEC,kBAAMA,WAAWA,EAAEA,OAAOA,EAAEA,aAAaA,EAAEA,QAAQA,CAACA,CAACA;oBAErDA,IAAIA,CAACA,YAAYA,GAAGA,aAAaA,CAACA;oBAClCA,IAAIA,CAACA,YAAYA,GAAGA;wBAClBA,QAAQA,EAAEA,IAAIA;wBACdA,SAASA,EAAEA,IAAIA;qBAChBA,CAACA;gBACJA,CAACA;gBAEDD,uCAAQA,GAARA,UAASA,WAAiCA;oBACxCE,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,qBAAqBA,CAACA;oBAClDA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,YAAYA,CAACA,GAAGA,CAACA,IAAIA,CAACA,YAAYA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;wBAC5DA,sDAAsDA;wBACtDA,IAAIA,CAACA,YAAYA,CAACA,aAAaA,CAACA,QAAQA,CAACA,CAACA;oBAC5CA,CAACA;oBACDA,MAAMA,CAACA,gBAAKA,CAACA,QAAQA,YAACA,WAAWA,CAACA,CAACA;gBACrCA,CAACA;gBAzBHF;oBAACA,gBAASA,CAACA;wBACTA,QAAQA,EAAEA,eAAeA;qBAC1BA,CAACA;oBAMmCA,WAACA,gBAASA,CAACA,MAAMA,CAACA,CAAAA;;yCAkBtDA;gBAADA,2BAACA;YAADA,CA1BA,AA0BCA,EAvByC,qBAAY,EAuBrD;YA1BD,uDA0BC,CAAA","file":"src/app/LoggedInOutlet.js","sourcesContent":["import {Directive, Attribute, ElementRef, DynamicComponentLoader} from 'angular2/core';\nimport {Router, RouterOutlet, ComponentInstruction} from 'angular2/router';\nimport {LoginComponent} from '../login/login.component';\n\n@Directive({\n  selector: 'router-outlet'\n})\nexport class LoggedInRouterOutlet extends RouterOutlet {\n  publicRoutes: any;\n  private parentRouter: Router;\n\n  constructor(_elementRef: ElementRef, _loader: DynamicComponentLoader,\n              _parentRouter: Router, @Attribute('name') nameAttr: string) {\n    super(_elementRef, _loader, _parentRouter, nameAttr);\n\n    this.parentRouter = _parentRouter;\n    this.publicRoutes = {\n      '/login': true,\n      '/signup': true\n    };\n  }\n\n  activate(instruction: ComponentInstruction) {\n    var url = this.parentRouter.lastNavigationAttempt;\n    if (!this.publicRoutes[url] && !localStorage.getItem('jwt')) {\n      // todo: redirect to Login, may be there a better way?\n      this.parentRouter.navigateByUrl('/login');\n    }\n    return super.activate(instruction);\n  }\n}\n"],"sourceRoot":"/source/"}